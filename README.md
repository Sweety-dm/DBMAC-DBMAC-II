# Density-Based Multiscale Analysis for Clustering in Strong Noise Settings with Varying Densities

### Code, data, results and supplementary material

### Tian-Tian Zhang, Bo Yuan

# Reference
Tian-Tian, Zhang and Bo, Yuan, "[Density-Based Multiscale Analysis for Clustering in Strong Noise Settings with Varying Densities](https://ieeexplore.ieee.org/document/8359265/)", *IEEE ACCESS*, 2018.

# Code
***Note:*** *the code was developed on a Linux machine and was implemented in [R](https://www.r-project.org/). Before executing the code, you should have R installed and have an appropriate R environment setup (e.g. [RStudio](https://www.rstudio.com/products/RStudio/), or simply use a terminal) to take control of your R code.*

- **skinnydip.R:** the implementation of the state-of-the-art clustering algorithm ***SkinnyDip*** for the data in strong noise settings;
- **func.R:** including all ***function definitions*** related to our proposed new method DBMAC and DBMAC-II; 
- **DBMAC.R:** the implementation of ***DBMAC*** proposed for single-density clustering;
- **DBMAC-II.R:** the implementation of ***DBMAC-II*** we proposed for the varying-densities clustering and some other state-of-the-art clustering methods such as SkinnyDip, DBSCAN, OPTICS, and HDBSCAN;
- **realDataExperiment.R:** testing the performance of our proposed algorithm DBMAC-II on the ***real-world data***. 

# Evaluation Index - Calculating Adjusted Mutual Information Values
***Note:*** *we use the [code](https://www.mathworks.com/matlabcentral/fileexchange/33144-the-adjusted-mutual-information) implemented on Matlab from Nguyen, Xuan and Vinh (2008-2010) for calculating the Adjusted Mutual Information (AMI) between two clusterings.*

- **"scripts" folder:** including ***AMI.m*** and ***calcami.m*** scripts, respectively corresponding to AMI calculation and the main function. Refer to the referenced papers in their code for more information, including how to call it, providing predicted and true labels.
- **"tmp" folder:** storing the temporary files generated during AMI calculation.

# Running Example Datasets
***Note:*** *in order to explain the principle and implementation process of the proposed new method DBMAC and DBMAC-II, we use the code from above to get the running example data with 70% noise. All example datasets were synthesized by ourselves referencing clustering standard dataset.*

- **exampleData.csv:** an example dataset with 6 single-density clusters, which is generated by `dataFrame <- generateSingleDensityData(0.7)` function;
- **D1.csv & D2.csv:** two example datasets with varying-densities clusters:
	- **D1.csv:** a heterogeneous example dataset with 2 higher-density clusters and 4 lower-density clusters, which is generated by `dataFrame <- generateVaryingDensityData1(0.7)` function;
	- **D2.csv:** another heterogeneous example dataset with 3 higher-density clusters and 2 lower-density clusters, which is generated by `dataFrame <- generateVaryingDensityData2(0.7)` function. 

# Experimental Evaluation

## 2D Synthetic Datasets
***Note:*** *we generate all 2D synthetic datasets based on selected datasets from [GitHub clustering benchmarks](https://github.com/deric/clustering-benchmark). These datasets consist of different numbers of irregular clusters and have been used frequently in clustering research.*

- **DS1.csv:** including 6 higher-density clusters and 9 lower-density clusters. It's generated by `dataFrame <- generate2DsyntheticDataSet1(0.7)` function;
- **DS2.csv:** including 1 higher-density clusters and 3 lower-density clusters. It's generated by `dataFrame <- generate2DsyntheticDataSet2(0.6)` function;
- **DS3.csv:** including 3 higher-density clusters and 3 lower-density clusters. It's generated by `dataFrame <- generate2DsyntheticDataSet3(0.7)` function;
- **DS4.csv:** including 1 higher-density clusters and 4 lower-density clusters. It's generated by `dataFrame <- generate2DsyntheticDataSet4(0.7)` function.

## Multi-dimensional Synthetic Datasets
***Note:***

1. *For multi-dimensional cases, we created synthetic datasets using Gaussian distributions and varied the number of points in each cluster to achieve different densities.*
2. *By default, we generate 11 hyper-sphere clusters with two different densities in three dimensions, in which there were 4 clusters of 600 objects each with a standard deviation of 0.015 and 7 clusters of 500 objects each with a standard deviation of 0.030. The data generation function is as follows:*
`clusterSizeList <- c(600,600,600,600,500,500,500,500,500,500,500)`
`dataFrame <- generateMultiDimensionalDataSet(11,3,0.8,clusterSizeList)`
3. *We identifed the robustness of DBMAC-II against dimensionality, number of clusters, noise percentage, and density levels, compared to DBSCAN, OPTICS, HDBSCAN, and Skinny-dip in terms of two types of AMI calculation.*

The details of different parameter combinations are shown as follows:

- **Dimensionality:**
	- fixed parameters: *k = 11, η = 80%, l = 2*;
	- Varying the dimensionality: *d = {2, 3, 4, 5, 6, 7, 8}*.
- **Clusters:**
	- fixed parameters: *d = 3, η = 80%, l = 2*;
	- Varying the number of clusters: *k = {5, 6, 7, 8, 9, 10, 11, 12}*.
- **Noise Percentage:**
	- fixed parameters: *d = 3, k = 11, l = 2*;
	- Varying the noise percentage: *η = {10%, 20%, 30%, 40%, 50%, 60%, 70%, 80%, 90%}*.
- **Densities:**
	- fixed parameters: *d = 3, k = 11, η = 80%*;
	- Changing the number of data points in each cluster to vary the number of density levels: *l = {2, 3, 4, 5, 6, 7}*.

## Real-world Data
***Note:*** *We used a simplified version of the corresponding real-world [3D Road Network (North Jutland, Denmark) Data Set](https://archive.ics.uci.edu/ml/datasets/3D+Road+Network+%28North+Jutland,+Denmark%29) from [UCI data](https://archive.ics.uci.edu/ml/index.php). Specifically, we considered just the two primary dimension (latitude and longitude), omitting the evaluation feature in order to enable an intuitive and easily-understandable visualization. For efficiency and quick reproducability, we deterministically sampled 12000 data points from the dataset for clustering with DBMAC-II and other four clustering methods(SkinnyDip, DBMAC, OPTICS, and HDBSCAN).*

- **spatialnetwork.data:** the raw data set of 3D Road Network (North Jutland, Denmark) Data Set, which contains 434,874 instance and 4 attributes (OSM_ID, LONGITUDE, LATITUDE, ALTITUDE);
- **jutland.png:** the google map of North Jutland, Denmark.